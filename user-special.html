<!doctype html>
<html>
<head>
	<title>地主特长-BETALABS</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no" />
	<meta http-equiv="Cache-Control" content="max-age=0" />
	<meta name="apple-touch-fullscreen" content="yes" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="Description" content="BETALABS" />
	<meta name="Keywords" content="BETALABS" /> 
	<!--[if lte IE 6]>
	<script>window.location.href='notsupported/';</script>
	<![endif]--> 
	<link rel="stylesheet" href="assets/css/plug.base.css" />
	<!--[if IE 7]>
	<link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css" />
	<![endif]-->
	<link rel="stylesheet" href="assets/css/plug.ace.css" />  
	<!--[if lte IE 8]>
	<link rel="stylesheet" href="assets/css/ace-ie.min.css" />
	<![endif]-->  
	<!--[if lt IE 9]>
	<script src="assets/js/html5shiv.js"></script>
	<script src="assets/js/respond.min.js"></script>
	<![endif]-->
	<!-- 以上部分不可修改 -->
	<link rel="stylesheet" href="assets/css/mod.base.css" /> 
</head>

<body>
	<div class="navbar navbar-default" id="navbar">
		<div class="navbar-container" id="navbar-container">
			<div class="navbar-header pull-left">
				<a href="./" class="">
					<small>
						<img src="assets/img/logo_small.png" alt="" />
					</small>
				</a>
				<!-- /.brand -->
			</div>
			<!-- /.navbar-header -->

			<div class="navbar-header pull-right" role="navigation">
				<ul class="nav ace-nav">
					<li >
						<a data-toggle="dropdown" href="javascript:;" class="dropdown-toggle">
							<span class="user-info">周晓通</span> <i class="icon-caret-down"></i>
						</a>

						<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
							<li>
								<a href="#"> <i class="icon-lock"></i>
									修改密码
								</a>
							</li>

							<li class="divider"></li>

							<li>
								<a href="#">
									<i class="icon-off"></i>
									退出
								</a>
							</li>
						</ul>
					</li>
				</ul>
				<!-- /.ace-nav -->
			</div>
			<!-- /.navbar-header -->
		</div>
		<!-- /.container -->
	</div>

	<div class="main-container" id="main-container">
		<div class="main-container-inner">
			<a class="menu-toggler" id="menu-toggler" href="#">
				<span class="menu-text"></span>
			</a>
			<div class="sidebar" id="sidebar">
				<ul class="nav nav-list">
					<li>
						<a href="index.html">
							<i class="icon-dashboard"></i>
							<span class="menu-text">欢迎页</span>
						</a>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-book"></i>
							<span class="menu-text">玩法</span> <b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li >
								<a href="play.html">
									<i class="icon-double-angle-right"></i>
									全部玩法
								</a>
							</li>
							<li>
								<a href="car.html">
									<i class="icon-double-angle-right"></i>
									租车服务
								</a>
							</li>
							<li>
								<a href="stay.html">
									<i class="icon-double-angle-right"></i>
									客栈住宿
								</a>
							</li>
							<li>
								<a href="lock.html">
									<i class="icon-double-angle-right"></i>
									被锁定
								</a>
							</li>
						</ul>
					</li>

					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-user"></i>
							<span class="menu-text">用户</span> <b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="user-all.html">
									<i class="icon-double-angle-right"></i>
									全部用户
								</a>
							</li>
							<li>
								<a href="user-check.html">
									<i class="icon-double-angle-right"></i>
									待审核
								</a>
							</li>
							<li>
								<a href="user-lock.html">
									<i class="icon-double-angle-right"></i>
									被锁定
								</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-exclamation-sign"></i>
							<span class="menu-text">意见反馈&举报</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="opinion.html">
									<i class="icon-double-angle-right"></i>
									意见反馈
								</a>
							</li>
							<li>
								<a href="report.html">
									<i class="icon-double-angle-right"></i>
									举报
								</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-home"></i>
							<span class="menu-text">首页数据</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="topic.html">
									<i class="icon-double-angle-right"></i>
									专题
								</a>
							</li>
							<li>
								<a href="play-suggest.html">
									<i class="icon-double-angle-right"></i>
									推荐玩法
								</a>
							</li>
							<li>
								<a href="user-suggest.html">
									<i class="icon-double-angle-right"></i>
									推荐地主
								</a>
							</li>
							<li>
								<a href="ads.html">
									<i class="icon-double-angle-right"></i>
									广告
								</a>
							</li>
						</ul>
					</li>
					<li class="active">
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-hdd"></i>
							<span class="menu-text">内容</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="play-cate.html">
									<i class="icon-double-angle-right"></i>
									玩法分类
								</a>
							</li>
							<li class="active">
								<a href="user-special.html">
									<i class="icon-double-angle-right"></i>
									地主特长
								</a>
							</li>
							<li>
								<a href="user-cate.html">
									<i class="icon-double-angle-right"></i>
									地主分类
								</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-cog"></i>
							<span class="menu-text">系统设置</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="account.html">
									<i class="icon-double-angle-right"></i>
									帐号管理
								</a>
							</li>
							<li>
								<a href="log.html">
									<i class="icon-double-angle-right"></i>
									查看日志
								</a>
							</li>
						</ul>
					</li>
				</ul>
				<!-- /.nav-list -->

				<div class="sidebar-collapse" id="sidebar-collapse">
					<i class="icon-double-angle-left" data-icon1="icon-double-angle-left" data-icon2="icon-double-angle-right"></i>
				</div>
			</div>

			<div class="main-content">

				<div class="page-content">
					<div class="page-header">
						<h1>
							内容
							<small>
								<i class="icon-double-angle-right"></i>
								地主特长
							</small>
						</h1>
					</div>
					<div class="space-6"></div>
					<div class="widget-box">
						<div class="widget-header">
							<h4 class="smaller">
								<div id="J_adddialog">
									<a href="javascript:;" id="J_addbtn"  class="btn btn-info btn-sm ">
										<i class="icon-plus"></i>
										添加
									</a>
								</div>
								<div  id="J_editdialog" class="ui-hide">
									<input type="text" id="content" placeholder="输入地主特长"  />
									<a href="javascript:;" id="J_savebtn" class="btn btn-success btn-sm  ui-ml10">
										<i class="icon-save"></i>
										保存
									</a>
									<a href="javascript:;" id="J_cancelbtn" class="btn btn-sm  ui-ml10">
										<i class="icon-remove"></i>
										取消
									</a>
								</div>
							</h4>
						</div>

						<div class="widget-body">
							<div class="widget-main">
								<div class="row">
									<div class="col-xs-12">
										<!-- TIPS.BASE -->
										<div class="table-responsive">

											<table class="table table-striped table-bordered table-hover dataTable"> 
												<colgroup>
										          <col class="col-xs-1">
										          <col class="col-xs-4">
										          <col class="col-xs-7">
										        </colgroup>
												<thead>
													<tr>
														<th>序号</th>
														<th>内容</th>
														<th>操作</th>
													</tr>
												</thead>
												<tbody class="table_content">
													<tr data-id="001">
														<td>001</td>
														<td>
															<span class="text_content">资深吃货</span>
															<input type="text" value="资深吃货" class="field_content ui-hide" />
														</td>
														<td>
															<a class="green J_edit_content" href="javascript:;"  title="编辑">
																<i class="icon-pencil bigger-130"></i>
															</a> 
														</td>
													</tr>
													<tr data-id="002">
														<td>002</td>
														<td>
															<span class="text_content">有证驾驶</span>
															<input type="text" value="有证驾驶" class="field_content ui-hide" />
														</td>
														<td>
															<a class="green J_edit_content" href="javascript:;" title="编辑">
																<i class="icon-pencil bigger-130"></i>
															</a> 
														</td>
													</tr>
													<tr data-id="003">
														<td>003</td>
														<td>
															<span class="text_content">精通摄影</span>
															<input type="text" value="精通摄影" class="field_content ui-hide" />
														</td>
														<td>
															<a class="green J_edit_content" href="javascript:;" title="编辑">
																<i class="icon-pencil bigger-130"></i>
															</a> 
														</td>
													</tr>
												</tbody>
											</table>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
				<!-- /.page-content -->
			</div>
			<!-- /.main-content -->

		</div>
		<!-- /.main-container-inner -->

		<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
			<i class="icon-double-angle-up icon-only bigger-110"></i>
		</a>
	</div>
	<!-- /.main-container -->

	<script src="assets/js/jquery.js"></script>
	<script>
	if("ontouchend" in document) document.write("<script src='assets/js/jquery.mobile.js'>"+"<"+"/script>");</script>
<script src="assets/js/plug.base.js"></script> 
<script type="text/javascript"> 
	$(function(){
		//添加事件
		$("#J_addbtn").on("click", function(){
			$("#J_adddialog").hide();
			$("#J_editdialog").show();
		});

		//取消事件
		$("#J_cancelbtn").on("click", function(){
			$("#J_editdialog").hide();
			$("#J_adddialog").show();
		});

		//保存事件
		$("#J_savebtn").on("click", function(){
			var content = $("#content").val();
			if (!content) {
				$("#content").focus();
				return false;
			}
			//保存请求
			$.post("...", {content:content}, function(data){
				if (data.status==0) {

				} else {
					bootbox.dialog({
						message: "<span class='bigger-110'>添加失败</span>",
						buttons: 			
						{
							"button" :
							{
								"label" : "我知道了",
								"className" : "btn-sm"
							}
						}
					}); 
				}
			});
		});

		//点击编辑
		$(".table_content").on("click", ".J_edit_content", function(){
			$(this).parent("td").prev("td").children(".text_content").hide();
			$(this).parent("td").prev("td").children(".field_content").show();
			$(this).parent("td").html('<a href="javascript:;" class="btn btn-success btn-sm  ui-ml10 J_save_content">'+
				'<i class="icon-save"></i>保存</a>'+
				'<a href="javascript:;" class="btn btn-sm  ui-ml10 J_cancel_content">'+
				'<i class="icon-remove"></i>取消</a>');
		});

		//取消编辑
		$(".table_content").on("click", ".J_cancel_content", function(){ 
			$(this).parent("td").prev("td").children(".field_content").hide();
			$(this).parent("td").prev("td").children(".text_content").show();
			$(this).parent("td").html('<a class="green J_edit_content" href="javascript:;" title="编辑">'+
				'<i class="icon-pencil bigger-130"></i></a>');
		});

		//保存编辑
		$(".table_content").on("click", ".J_save_content", function(){ 
			var id = $(this).parents("tr").attr("data-id");
			var content = $(this).parent("td").prev("td").children(".field_content").val();
			if(!content) {
				$(this).parent("td").prev("td").children(".field_content").focus();
				return false;
			}

			$.post("...", {id:id,content:content}, function(data){
				if (data.status==0) {
					//保存成功改变状态
					$(this).parent("td").prev("td").children(".text_content").text(content).show();
					$(this).next(".J_cancel_content").trigger("click");
				} else {
					bootbox.dialog({
						message: "<span class='bigger-110'>添加失败</span>",
						buttons: 			
						{
							"button" :
							{
								"label" : "我知道了",
								"className" : "btn-sm"
							}
						}
					}); 
				}
			});
			
		});
	})
</script>
</body>
</html>