<!doctype html>
<html>
<head>
	<title>全部用户-BETALABS</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0,user-scalable=no" />
	<meta http-equiv="Cache-Control" content="max-age=0" />
	<meta name="apple-touch-fullscreen" content="yes" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
	<meta name="Description" content="BETALABS" />
	<meta name="Keywords" content="BETALABS" />
	<!--[if lte IE 6]>
	<script>window.location.href='notsupported/';</script>
	<![endif]-->
	<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
	<link rel="stylesheet" href="assets/css/font-awesome.min.css" />
	<!--[if IE 7]>
	<link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css" />
	<![endif]-->
	<link rel="stylesheet" href="assets/css/ace-fonts.css" />
	<link rel="stylesheet" href="assets/css/ace.min.css" />
	<link rel="stylesheet" href="assets/css/ace-rtl.min.css" />
	<link rel="stylesheet" href="assets/css/ace-skins.min.css" />

	<!--[if lte IE 8]>
	<link rel="stylesheet" href="assets/css/ace-ie.min.css" />
	<![endif]-->

	<script src="assets/js/ace-extra.min.js"></script>
	<!--[if lt IE 9]>
	<script src="assets/js/html5shiv.js"></script>
	<script src="assets/js/respond.min.js"></script>
	<![endif]-->
	<!-- 以上部分不可修改 -->
	<link rel="stylesheet" href="assets/css/mod.base.css" />

	<link rel="stylesheet" href="assets/css/daterangepicker.css" />
</head>

<body>
	<div class="navbar navbar-default" id="navbar">
		<div class="navbar-container" id="navbar-container">
			<div class="navbar-header pull-left">
				<a href="./" class="">
					<small>
						<img src="assets/img/logo_small.png" alt="" />
					</small>
				</a>
				<!-- /.brand -->
			</div>
			<!-- /.navbar-header -->

			<div class="navbar-header pull-right" role="navigation">
				<ul class="nav ace-nav">
					<li >
						<a data-toggle="dropdown" href="javascript:;" class="dropdown-toggle">
							<span class="user-info">周晓通</span> <i class="icon-caret-down"></i>
						</a>

						<ul class="user-menu pull-right dropdown-menu dropdown-yellow dropdown-caret dropdown-close">
							<li>
								<a href="#"> <i class="icon-lock"></i>
									修改密码
								</a>
							</li>

							<li class="divider"></li>

							<li>
								<a href="#">
									<i class="icon-off"></i>
									退出
								</a>
							</li>
						</ul>
					</li>
				</ul>
				<!-- /.ace-nav -->
			</div>
			<!-- /.navbar-header -->
		</div>
		<!-- /.container -->
	</div>

	<div class="main-container" id="main-container">
		<div class="main-container-inner">
			<a class="menu-toggler" id="menu-toggler" href="#">
				<span class="menu-text"></span>
			</a>
			<div class="sidebar" id="sidebar">
				<ul class="nav nav-list">
					<li>
						<a href="index.html">
							<i class="icon-dashboard"></i>
							<span class="menu-text">欢迎页</span>
						</a>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-book"></i>
							<span class="menu-text">玩法</span> <b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li >
								<a href="play.html">
									<i class="icon-double-angle-right"></i>
									全部玩法
								</a>
							</li>
							<li>
								<a href="car.html">
									<i class="icon-double-angle-right"></i>
									租车服务
								</a>
							</li>
							<li>
								<a href="stay.html">
									<i class="icon-double-angle-right"></i>
									客栈住宿
								</a>
							</li>
							<li>
								<a href="lock.html">
									<i class="icon-double-angle-right"></i>
									被锁定
								</a>
							</li>
						</ul>
					</li>

					<li class="active">
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-user"></i>
							<span class="menu-text">用户</span> <b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li class="active">
								<a href="user-all.html">
									<i class="icon-double-angle-right"></i>
									全部用户
								</a>
							</li>
							<li>
								<a href="user-check.html">
									<i class="icon-double-angle-right"></i>
									待审核
								</a>
							</li>
							<li>
								<a href="user-lock.html">
									<i class="icon-double-angle-right"></i>
									被锁定
								</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-exclamation-sign"></i>
							<span class="menu-text">意见反馈&举报</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="opinion.html">
									<i class="icon-double-angle-right"></i>
									意见反馈
								</a>
							</li>
							<li>
								<a href="report.html">
									<i class="icon-double-angle-right"></i>
									举报
								</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-home"></i>
							<span class="menu-text">首页数据</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="topic.html">
									<i class="icon-double-angle-right"></i>
									专题
								</a>
							</li>
							<li>
								<a href="play-suggest.html">
									<i class="icon-double-angle-right"></i>
									推荐玩法
								</a>
							</li>
							<li>
								<a href="user-suggest.html">
									<i class="icon-double-angle-right"></i>
									推荐地主
								</a>
							</li>
							<li>
								<a href="ads.html">
									<i class="icon-double-angle-right"></i>
									广告
								</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-hdd"></i>
							<span class="menu-text">内容</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="play-cate.html">
									<i class="icon-double-angle-right"></i>
									玩法分类
								</a>
							</li>
							<li>
								<a href="user-special.html">
									<i class="icon-double-angle-right"></i>
									地主特长
								</a>
							</li>
							<li>
								<a href="user-cate.html">
									<i class="icon-double-angle-right"></i>
									地主分类
								</a>
							</li>
						</ul>
					</li>
					<li>
						<a href="javascript:;" class="dropdown-toggle">
							<i class="icon-cog"></i>
							<span class="menu-text">系统设置</span>
							<b class="arrow icon-angle-down"></b>
						</a>
						<ul class="submenu">
							<li>
								<a href="account.html">
									<i class="icon-double-angle-right"></i>
									帐号管理
								</a>
							</li>
							<li>
								<a href="log.html">
									<i class="icon-double-angle-right"></i>
									查看日志
								</a>
							</li>
						</ul>
					</li>
				</ul>
				<!-- /.nav-list -->

				<div class="sidebar-collapse" id="sidebar-collapse">
					<i class="icon-double-angle-left" data-icon1="icon-double-angle-left" data-icon2="icon-double-angle-right"></i>
				</div>
			</div>

			<div class="main-content">

				<div class="page-content">
					<div class="page-header">
						<h1>
							全部用户
							<small>
								<i class="icon-double-angle-right"></i>
								列表
							</small>
						</h1>
					</div>

					<div class="row">
						<div class="col-xs-12">
							<!-- TIPS.BASE -->
							<div class="table-responsive">
								<div class="alert alert-info  no-margin">  
										<a href="javascript:;" id="J_addbtn"  class="btn btn-info btn-sm ">
										<i class="icon-plus"></i>
										新建帐号
									</a>
								</div>

								<table class="table table-striped table-bordered table-hover dataTable">
									<thead>
										<tr>
											<th>序号</th>
											<th>帐号名称</th>
											<th>帐号权限</th>
											<th>操作</th> 
										</tr>
									</thead>
									<tbody >
										<tr >
											<td>001</td> 
											<td>张小七</td>
											<td>超级管理员</td>   
											<td>
												
											</td>
										</tr>
										<tr >
											<td>002</td> 
											<td>张小七</td>
											<td>管理员</td>   
											<td>
												<div class="visible-md visible-lg hidden-sm hidden-xs action-buttons">
													<a class="green J_edit" href="javascript:;" data-id="002" data-rel="tooltip" title="编辑">
														<i class="icon-pencil bigger-130"></i>
													</a>
													<a class="orange J_del" href="javascript:;" data-id="002" data-rel="tooltip" title="删除">
														<i class="icon-trash bigger-130"></i>
													</a>
												</div>
											</td>
										</tr>
										<tr >
											<td>003</td> 
											<td>张小七</td>
											<td>管理员</td>   
											<td>
												<div class="visible-md visible-lg hidden-sm hidden-xs action-buttons">
													<a class="green J_edit" href="javascript:;" data-id="003" data-rel="tooltip" title="编辑">
														<i class="icon-pencil bigger-130"></i>
													</a>
													<a class="orange J_del" href="javascript:;" data-id="003" data-rel="tooltip" title="删除">
														<i class="icon-trash bigger-130"></i>
													</a>
												</div>
											</td>
										</tr>
										<tr >
											<td>004</td> 
											<td>张小七</td>
											<td>管理员</td>   
											<td>
												<div class="visible-md visible-lg hidden-sm hidden-xs action-buttons">
													<a class="green J_edit" href="javascript:;" data-id="004" data-rel="tooltip" title="编辑">
														<i class="icon-pencil bigger-130"></i>
													</a>
													<a class="orange J_del" href="javascript:;" data-id="004" data-rel="tooltip" title="删除">
														<i class="icon-trash bigger-130"></i>
													</a>
												</div>
											</td>
										</tr>
									</tbody>
								</table>

								<div class="modal-footer no-margin-top">
									<div class="dataTables_info pull-left">用户数 10/1000个</div>

									<ul class="pagination  pull-right no-margin">
										<li class="prev disabled">
											<a href="#">
												<i class="icon-double-angle-left"></i>
											</a>
										</li>

										<li class="active">
											<a href="#">1</a>
										</li>

										<li>
											<a href="#">2</a>
										</li>

										<li>
											<a href="#">3</a>
										</li>

										<li class="next">
											<a href="#">
												<i class="icon-double-angle-right"></i>
											</a>
										</li>
									</ul>
								</div>
							</div>

						</div>
					</div>
				</div>
				<!-- /.page-content -->
			</div>
			<!-- /.main-content -->

		</div>
		<!-- /.main-container-inner -->

		<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
			<i class="icon-double-angle-up icon-only bigger-110"></i>
		</a>
	</div>
	<!-- /.main-container -->

	<script src="assets/js/jquery.js"></script>
	<script>
	if("ontouchend" in document) document.write("<script src='assets/js/jquery.mobile.js'>"+"<"+"/script>");</script>
<script src="assets/js/plug.base.js"></script>
<script src="assets/js/mod.base.js"></script>
<script src="assets/js/date-time/daterangepicker.min.js"></script>
<script src="assets/js/date-time/moment.min.js"></script>
<script type="text/javascript">
	$('[data-rel=tooltip]').tooltip();
	
	$(function(){
		//添加
		$("#J_addbtn").on(ace.click_event, function(){
			var addDom = '<div class="row"><div class="col-xs-12"><h2 class="text-center ui-pb20">新建帐号</h2><form class="form-horizontal" role="form">'+
					'<div class="form-group">'+
						'<label class="col-sm-3 control-label no-padding-right" for="form-field-1">帐号名称</label>'+
						'<div class="col-sm-9">'+
						'<input type="text" id="account"  value="" class="col-xs-10 col-sm-5" />'+ 
						'</div>'+
					'</div>'+
					'<div class="form-group">'+
						'<label class="col-sm-3 control-label no-padding-right" for="form-field-1">密码</label>'+
						'<div class="col-sm-9">'+
							'<input type="password" id="password"  value="" class="col-xs-10 col-sm-5" />'+ 
						'</div>'+
					'</div>'+
					'<div class="form-group">'+
						'<label class="col-sm-3 control-label no-padding-right" for="form-field-1">权限</label>'+
						'<div class="col-sm-9">'+
							'<label><input id="auth" type="radio" value="1" class="ace"><span class="lbl"> 管理员</span></label>'+
						'</div>'+
					'</div>'+
				'</form></div></div>';
			bootbox.dialog({
				message: addDom,
				buttons: 			
				{
					
					"danger" :
					{
						"label" : "保存",
						"className" : "btn-sm btn-danger",
						"callback": function() {
							var account = $("#account").val(),password = $("#password").val(),auth = $("#auth").prop("checked");
							if (!account) {
								$("#account").focus();
								return false;
							}
							if (!password) {
								$("#password").focus();
								return false;
							}

							/**
							添加管理员接口
							status 为0时成功
							**/
							$.post('...',{account:account,password:password,auth:auth}, function(data){
								if (data.status==0) {

								} else {
									bootbox.dialog({
										message: "<span class='bigger-110'>添加失败</span>",
										buttons: 			
										{
											"button" :
											{
												"label" : "我知道了",
												"className" : "btn-sm"
											}
										}
									}); 
								}
							});
						}
					},  
					"button" :
					{
						"label" : "取消",
						"className" : "btn-sm"
					}
				}
			});
		})
		//编辑
		$(".J_edit").on(ace.click_event, function(){
			var account = $(this).parents("tr").children("td").eq("1").text();
			var id 		= $(this).attr("data-id");
			var editDom = '<div class="row"><div class="col-xs-12"><h2 class="text-center ui-pb20">编辑帐号</h2><form class="form-horizontal" role="form">'+
					'<div class="form-group">'+
						'<label class="col-sm-3 control-label no-padding-right" for="form-field-1">帐号名称</label>'+
						'<div class="col-sm-9">'+
						'<input type="text" id="account"  value="'+account+'" class="col-xs-10 col-sm-5" />'+ 
						'</div>'+
					'</div>'+
					'<div class="form-group">'+
						'<label class="col-sm-3 control-label no-padding-right" for="form-field-1">密码</label>'+
						'<div class="col-sm-9">'+
							'<input type="password" id="password"  value="" class="col-xs-10 col-sm-5" />'+ 
						'</div>'+
					'</div>'+
					'<div class="form-group">'+
						'<label class="col-sm-3 control-label no-padding-right" for="form-field-1">权限</label>'+
						'<div class="col-sm-9">'+
							'<label><input id="auth" type="radio" value="1" class="ace"><span class="lbl"> 管理员</span></label>'+
						'</div>'+
					'</div>'+
				'</form></div></div>';
			bootbox.dialog({
				message: editDom,
				buttons: 			
				{
					
					"danger" :
					{
						"label" : "保存",
						"className" : "btn-sm btn-danger",
						"callback": function() {
							var account = $("#account").val(),password = $("#password").val(),auth = $("#auth").prop("checked");
							if (!account) {
								$("#account").focus();
								return false;
							}
							if (!password) {
								$("#password").focus();
								return false;
							}

							/**
							修改管理员接口
							status 为0时成功
							**/
							$.post('...',{id:id,account:account,password:password,auth:auth}, function(data){
								if (data.status==0) {

								} else {
									bootbox.dialog({
										message: "<span class='bigger-110'>修改失败</span>",
										buttons: 			
										{
											"button" :
											{
												"label" : "我知道了",
												"className" : "btn-sm"
											}
										}
									}); 
								}
							});
						}
					},  
					"button" :
					{
						"label" : "取消",
						"className" : "btn-sm"
					}
				}
			});
		})


		

		//删除
		$(".J_del").popover({
			"title" : '111111',
			"html": true, 
			"placement": "left",
			"content": function() {
				var id = $(this).attr("data-id"); 
				var that = this;
				var $content = $('<button type="button" class="btn btn-primary btn-sm">确定</button>' + '<button type="button" class="btn btn-default btn-sm" style="margin-left:10px">取消</button>'); 
				$content.eq(1).bind("click", function() {
					$(that).popover("toggle");
				});
				$content.eq(0).bind("click", function() { 
					$(that).popover("toggle");
					$.post("...", {id:id}, function(data){
						if (data.status==0) {

						} else {
							bootbox.dialog({
								message: "<span class='bigger-110'>删除失败</span>",
								buttons: 			
								{
									"button" :
									{
										"label" : "我知道了",
										"className" : "btn-sm"
									}
								}
							}); 
						}
					});
				}); 
				return $content;
			}
		});
	})
</script>
</body>
</html>